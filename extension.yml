schema_version: "1.0"

extension:
  id: "jira"
  name: "Jira Integration"
  version: "2.1.0"
  description: "Create Jira Epics, Stories, and Issues from spec-kit artifacts"
  author: "Michal Bachorik"
  repository: "https://github.com/mbachorik/spec-kit-jira"
  license: "MIT"
  homepage: "https://github.com/mbachorik/spec-kit-jira"

requires:
  speckit_version: ">=0.1.0"
  # Note: Requires an MCP server providing Jira/Atlassian tools
  # The server name is configurable via mcp_server in jira-config.yml
  # Common names: "atlassian", "jira-mcp-server", "jira"

provides:
  commands:
    - name: "speckit.jira.specstoissues"
      file: "commands/specstoissues.md"
      description: "Create Jira hierarchy from spec and tasks"
      aliases: ["speckit.specstoissues"]

    - name: "speckit.jira.discover-fields"
      file: "commands/discover-fields.md"
      description: "Discover Jira custom fields for configuration"

    - name: "speckit.jira.sync-status"
      file: "commands/sync-status.md"
      description: "Sync task completion status to Jira"

  config:
    - name: "jira-config.yml"
      template: "jira-config.template.yml"
      description: "Jira integration configuration"
      required: true

hooks:
  after_tasks:
    command: "speckit.jira.specstoissues"
    optional: true
    prompt: "Create Jira issues from tasks?"
    description: "Automatically create Jira hierarchy after task generation"

tags:
  - "issue-tracking"
  - "jira"
  - "atlassian"
  - "project-management"

defaults:
  mcp_server: "atlassian"
  project:
    key: ""
  hierarchy:
    epic_type: "Epic"
    story_type: "Story"
    task_type: "Task"
    relationships:
      epic_story: "Epic Link"
      story_task: "Relates"
      epic_task: "Epic Link"
  defaults:
    epic:
      labels: []
    story:
      labels: []
    task:
      labels: []
